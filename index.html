<html>
  <head>
    <script src="/socket.io/socket.io.js"></script>
    <script>
      let socket = io();

      socket.on('play', () => {
        var player;
        player = new YT.Player('player', {
          height: '390',
          width: '640',
          videoId: 'SKrPg8fkV_o',
          events: {
            onReady: (event) => {
              event.target.playVideo();
            },
            onStateChange: (event) => {
              console.log(event)
              if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
                location.reload();
              }
            }
          },
          playerVars: {
            start: 65,
            autoplay: 1
          }
        });
      });
    </script>
  </head>
  <body style="overflow: hidden; height: 100%">
    <iframe width=100% height=100% src="https://docs.google.com/spreadsheets/d/e/2PACX-1vS7m3fhO3WEkV8grcU4ILRvu-8_zXy9CVSPIiL1kbt6OjjZPArj9ejTMUsE_RBstUVWWRri7MY6NRwm/pubhtml?gid=1972265192&amp;single=true&amp;widget=true&amp;headers=false"></iframe>

    <div id="player"></div>
    <script>
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
    </script>
  </body>
</html>
